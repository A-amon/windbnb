(this.webpackJsonpwindbnb=this.webpackJsonpwindbnb||[]).push([[0],{17:function(t){t.exports=JSON.parse('[{"city":"Helsinki","country":"Finland","superHost":false,"title":"Stylist apartment in center of the city","rating":4.4,"maxGuests":3,"type":"Entire apartment","beds":2,"photo":"https://images.unsplash.com/photo-1505873242700-f289a29e1e0f?ixlib=rb-1.2.1&auto=format&fit=crop&w=2255&q=80"},{"city":"Turku","country":"Finland","superHost":false,"title":"Nice apartment in center of Helsinki","rating":4.2,"maxGuests":5,"type":"Entire apartment","beds":3,"photo":"https://images.unsplash.com/photo-1554995207-c18c203602cb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80"},{"city":"Helsinki","country":"Finland","superHost":true,"title":"Arty interior in 1900 wooden house","rating":4.5,"maxGuests":10,"type":"Entire house","beds":6,"photo":"https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80"},{"city":"Helsinki","country":"Finland","superHost":false,"title":"Apartment next to market spuare","rating":4.48,"maxGuests":3,"type":"Entire apartment","beds":null,"photo":"https://images.unsplash.com/photo-1556020685-ae41abfc9365?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80"},{"city":"Turku","country":"Finland","superHost":true,"title":"Villa Aurora guest-house","rating":4.75,"maxGuests":9,"type":"Entire house","beds":null,"photo":"https://images.unsplash.com/photo-1513694203232-719a280e022f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2249&q=80"},{"city":"Vaasa","country":"Finland","superHost":true,"title":"A cosy family house","rating":4.95,"maxGuests":6,"type":"Entire house","beds":null,"photo":"https://images.unsplash.com/photo-1524758631624-e2822e304c36?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80"},{"city":"Vaasa","country":"Finland","superHost":false,"title":"Lovely Studio near Railway Station","rating":4.68,"maxGuests":2,"type":"Private room","beds":null,"photo":"https://images.unsplash.com/photo-1505693314120-0d443867891c?ixlib=rb-1.2.1&auto=format&fit=crop&w=2591&q=80"},{"city":"Oulu","country":"Finland","superHost":false,"title":"Peaceful little home in city center","rating":4.12,"maxGuests":6,"type":"Entire house","beds":3,"photo":"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80"},{"city":"Oulu","country":"Finland","superHost":false,"title":"Beautiful new studio apartment nearby the center","rating":4.49,"maxGuests":2,"type":"Entire apartment","beds":1,"photo":"https://images.unsplash.com/photo-1507089947368-19c1da9775ae?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2255&q=80"},{"city":"Oulu","country":"Finland","superHost":true,"title":"Cozy woodhouse flat with wooden sauna","rating":4.38,"maxGuests":4,"type":"Entire house","beds":null,"photo":"https://images.unsplash.com/photo-1522156373667-4c7234bbd804?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjF9&auto=format&fit=crop&w=930&q=80"},{"city":"Vaasa","country":"Finland","superHost":false,"title":"Brand new studio apartment near the harbour","rating":4.89,"maxGuests":6,"type":"Entire apartment","beds":3,"photo":"https://images.unsplash.com/photo-1494203484021-3c454daf695d?ixlib=rb-1.2.1&auto=format&fit=crop&w=2250&q=80"},{"city":"Helsinki","country":"Finland","superHost":false,"title":"Beautiful and comfortable old wooden house","rating":4.63,"maxGuests":10,"type":"Entire house","beds":null,"photo":"https://images.unsplash.com/photo-1516455590571-18256e5bb9ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=2250&q=80"},{"city":"Turku","country":"Finland","superHost":false,"title":"Turku Nordic Home near city center","rating":4.24,"maxGuests":5,"type":"Entire apartment","beds":3,"photo":"https://images.unsplash.com/photo-1519643381401-22c77e60520e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjE3MzYxfQ&auto=format&fit=crop&w=2253&q=80"},{"city":"Turku","country":"Finland","superHost":true,"title":"Nice 2 room apartment close to everything","rating":4.34,"maxGuests":6,"type":"Entire apartment","beds":3,"photo":"https://images.unsplash.com/photo-1523755231516-e43fd2e8dca5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1275&q=80"}]')},31:function(t,e,n){},32:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),s=n(10),i=n.n(s),r=(n(31),n(11)),o=n(3),u=n(7),l=n.p+"static/media/logo.beef9462.svg",h=n.p+"static/media/search--sienna.9b5cb03f.svg",d=n.p+"static/media/search--concrete.2de8c779.svg",b=n.p+"static/media/close.26da0fa3.svg",p=n.p+"static/media/place.358ad5a3.svg",j=(n(32),n(1));function m(t){var e=t.role,n=t.city,a=t.country,c=t.onClick;return Object(j.jsxs)("li",{className:"location",role:e,onClick:function(t){return c({city:n,country:a})},children:[Object(j.jsx)("img",{src:p,alt:"Location"}),Object(j.jsxs)("span",{children:[n,", ",a]})]})}n(34);function f(t){var e=t.onChange,n=t.title,c=t.desc,s=t.initVal,i=Object(a.useState)(0),r=Object(u.a)(i,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){s&&l(s)}),[]),Object(j.jsxs)("div",{className:"counter",children:[Object(j.jsx)("span",{className:"counter__title",children:n}),Object(j.jsx)("p",{className:"counter__desc",children:c}),Object(j.jsxs)("div",{className:"counter__wrapper",children:[Object(j.jsx)("button",{className:"counter__button",onClick:function(t){o>0&&l(o-1),e(o-1)},children:"-"}),Object(j.jsx)("span",{className:"counter__value",children:o}),Object(j.jsx)("button",{className:"counter__button",onClick:function(t){l(o+1),e(o+1)},children:"+"})]})]})}n(35);function y(t){var e=t.onLocationChange,n=t.onSearch,c=t.results,s=t.initLocation,i=t.initGuests,r=Object(a.useState)(""),o=Object(u.a)(r,2),l=o[0],p=o[1],y=Object(a.useState)({}),O=Object(u.a)(y,2),x=O[0],g=O[1],v=Object(a.useState)({city:null,country:null}),_=Object(u.a)(v,2),N=_[0],E=_[1],w=Object(a.useState)({adults:0,children:0}),S=Object(u.a)(w,2),H=S[0],C=S[1];Object(a.useEffect)((function(){var t=s.city,e=s.country;t&&e&&(E({city:t,country:e}),p("".concat(t,", ").concat(e)));var n=i.adults,a=i.children;(n||a)&&(console.log(n,a),C({adults:n,children:a}))}),[s]);var F=function(){var t={};return null!==N.city&&(t.location=N),(H.adults>0||H.children>0)&&(t.guests=H),t},G=function(t){var e=t.city,n=t.country;E({city:e,country:n}),p("".concat(e,", ").concat(n))},L=function(){return 0===Object.keys(x).length};return Object(j.jsxs)("div",{"aria-live":"assertive",className:"searchbar ".concat(L()?"":"searchbar--focused"),children:[Object(j.jsxs)("div",{className:"searchbar__header",children:[Object(j.jsx)("span",{children:"Edit your search"}),Object(j.jsx)("button",{onClick:function(t){return g({})},children:Object(j.jsx)("img",{src:b,alt:"Close search"})})]}),Object(j.jsx)("span",{className:"aria--hide",children:"Search by Location and Guests"}),Object(j.jsxs)("form",{className:"searchbar__form",onSubmit:function(t){t.preventDefault(),n(F())},children:[Object(j.jsxs)("div",{className:"searchbar__group",children:[Object(j.jsx)("label",{htmlFor:"searchLocation",children:"Location"}),Object(j.jsx)("input",{type:"text",id:"searchLocation",placeholder:"Choose location",value:l,onChange:function(t){p(t.target.value),e(t.target.value)},onFocus:function(t){return g({location:!0})}})]}),Object(j.jsxs)("div",{className:"searchbar__group",children:[Object(j.jsx)("label",{htmlFor:"searchGuests",children:"Guests"}),Object(j.jsx)("input",{type:"number",id:"searchGuests",placeholder:"Add guests",value:H.adults+H.children!==0&&H.adults+H.children,onFocus:function(t){return g({guests:!0})},readOnly:!0})]}),x.location?Object(j.jsx)("ul",{role:"listbox",className:"searchbar__locations",children:c.map((function(t,e){return Object(j.jsx)(m,{role:"listitem",city:t.city,country:t.country,onClick:G},e)}))}):null,x.guests?Object(j.jsxs)("div",{className:"searchbar__counters",children:[Object(j.jsx)(f,{title:"Adults",desc:"Ages 13 or above",initVal:H.adults,onChange:function(t){return C({children:H.children,adults:t})}}),Object(j.jsx)(f,{title:"Children",desc:"Ages 2 - 12",initVal:H.children,onChange:function(t){return C({children:t,adults:H.adults})}})]}):null,Object(j.jsxs)("button",{className:"searchbar__submit",type:"submit",children:[L()?Object(j.jsx)("img",{src:h,alt:""}):Object(j.jsx)("img",{src:d,alt:""}),Object(j.jsx)("span",{children:"Search"})]})]})]})}var O=n(24),x=n(17),g=function(t,e){return t.toLowerCase().includes(e.toLowerCase())};n(36);function v(){var t=Object(a.useState)(null),e=Object(u.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(null),i=Object(u.a)(s,2),h=i[0],d=i[1],b=Object(a.useState)(0),p=Object(u.a)(b,2),m=p[0],f=p[1],v=Object(a.useState)(0),_=Object(u.a)(v,2),N=_[0],E=_[1],w=new URLSearchParams(Object(o.g)().search),S=Object(o.g)(),H=Object(o.f)(),C=Object(a.useState)([]),F=Object(u.a)(C,2),G=F[0],L=F[1];Object(a.useEffect)((function(){c(w.get("city")),d(w.get("country")),f(parseInt(w.get("adults"))),E(parseInt(w.get("children")))}),[S]);return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{src:l,alt:"Windbnb logo | Click to visit Homepage"})}),Object(j.jsx)(y,{onSearch:function(t){var e=new URLSearchParams,n=t.location;n&&(e.set("city",n.city),e.set("country",n.country));var a=t.guests;a&&(e.set("adults",a.adults),e.set("children",a.children)),H.push({pathname:"/",search:"?".concat(e.toString())})},onLocationChange:function(t){L(function(t){var e,n=[],a=Object(O.a)(x);try{var c=function(){var a=e.value;if(g(a.city,t)||g(a.country,t)){var c={city:a.city,country:a.country};n.find((function(t){return t.city===a.city}))||n.push(c)}};for(a.s();!(e=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}return n}(t))},results:G,initLocation:{city:n,country:h},initGuests:{adults:m,children:N}})]})}var _=n(14),N=n(48),E=n(47);n(42);function w(t){var e=t.image,n=t.isSuperHost,a=t.type,c=t.bedCount,s=t.rating,i=t.title;return Object(j.jsxs)("li",{className:"stay",children:[Object(j.jsx)("h2",{className:"stay__title",children:i}),Object(j.jsx)("div",{className:"stay__image",children:Object(j.jsx)("img",{loading:"lazy",src:e,alt:"","aria-hidden":"true"})}),Object(j.jsxs)("div",{className:"stay__info",children:[n?Object(j.jsx)("span",{className:"stay__tag",children:"SUPER HOST"}):null,Object(j.jsxs)("span",{className:"stay__content",children:[a,null!==c?" . ".concat(c," beds"):null]}),Object(j.jsx)("span",{className:"stay__rating",children:s})]}),Object(j.jsx)(r.b,{to:"/"})]})}var S="GET_PROPERTIES",H="LOADING",C=function(t,e,n){var a=x;return null!==t&&(a=function(t,e,n){return n.filter((function(n){return n.city===t&&n.country===e}))}(t,e,a)),null!==n&&(a=function(t,e){return e.filter((function(e){return t<=e.maxGuests}))}(n,a)),a=a.sort(F),function(t){t({type:H}),t({type:S,properties:a})}},F=function(t,e){return t.rating>e.rating?-1:1};n(43);function G(){var t=new URLSearchParams(Object(o.g)().search),e=Object(o.g)(),n=Object(_.c)((function(t){return t})).properties,c=Object(_.b)();return Object(a.useEffect)((function(){var e=t.get("city"),n=t.get("country"),a=parseInt(t.get("adults")),s=parseInt(t.get("children"));c(C(e,n,a?a+s:0))}),[e]),Object(j.jsxs)("section",{className:"home","aria-live":"polite",children:[Object(j.jsxs)("div",{className:"home__header",children:[Object(j.jsx)("h1",{className:"home__country",children:t.get("country")?"Stays in ".concat(t.get("country")):"All stays"}),Object(j.jsxs)("span",{className:"home__count",children:[n.length," stays"]})]}),n.length>0?Object(j.jsx)("ul",{className:"home__stays",children:Object(j.jsx)(N.a,{component:null,appear:!0,children:n.map((function(t,e){return Object(j.jsx)(E.a,{timeout:1e3,children:Object(j.jsx)(w,{image:t.photo,isSuperHost:t.superHost,type:t.type,bedCount:t.beds,rating:t.rating,title:t.title})},e)}))})}):Object(j.jsx)("span",{children:"No results"})]})}n(44);function L(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(r.a,{basename:"/windbnb",children:[Object(j.jsx)(v,{}),Object(j.jsx)("main",{children:Object(j.jsx)(o.c,{children:Object(j.jsx)(o.a,{path:"/",children:Object(j.jsx)(G,{})})})})]})})}var k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),s(t),i(t)}))},q=n(19),B=n(25),D=n(15),T={properties:[],isLoading:!1};var J=[B.a],A=Object(q.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(D.a)(Object(D.a)({},t),{},{properties:e.properties,isLoading:!1});case H:return Object(D.a)(Object(D.a)({},t),{},{isLoading:!0});default:return t}}),Object(q.b)(q.a.apply(void 0,J),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(_.a,{store:A,children:Object(j.jsx)(L,{})})}),document.getElementById("root")),k()}},[[45,1,2]]]);
//# sourceMappingURL=main.749ae902.chunk.js.map